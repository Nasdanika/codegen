<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Strict//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>C:\Users\Pavel\git\codegen\org.nasdanika.codegen.editor\doc\.codegen.md.html</title>


<style type="text/css">
body {
	color: #333;
	font: 13px/1.4 "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif;
	padding: 0;
	margin: 0;
}

a {
	background: transparent;
	color: #4183c4;
	text-decoration: none;
}

a:active,
a:hover {
	outline: 0 none;
	text-decoration: underline;
}

abbr[title] {
	border-bottom: 1px dotted;
}

b,
strong {
	font-weight: bold;
}

dfn {
	font-style: italic;
}
h1 {
	font-size: 2em;
	margin: 0.67em 0;
}
mark {
	background: #ff0;
	color: #000;
}
small {
	font-size: 80%;
}
sub, sup {
	font-size: 75%;
	line-height: 0;
	position: relative;
	vertical-align: baseline;
}
sup {
	top: -0.5em;
}
sub {
	bottom: -0.25em;
}
img {
	border: 0 none;
}
svg:not(:root) {
	overflow: hidden;
}
figure {
	margin: 1em 40px;
}
hr {
	box-sizing: content-box;
	height: 0;
}

code,
kbd,
pre,
samp {
	font-family: monospace,monospace;
	font-size: 1em;
}

pre {
	overflow: auto;
	font: 12px Consolas,"Liberation Mono",Menlo,Courier,monospace;
	margin-bottom: 0;
	margin-top: 0;
}

.markdown-body {
	padding: 30px;
	font-size: 16px;
	line-height: 1.6;
	word-wrap: break-word;
}

.markdown-body>*:first-child {
	margin-top: 0 !important;
}

.markdown-body>*:last-child {
	margin-bottom: 0 !important;
}

.markdown-body .absent {
	color: #c00;
}

.markdown-body .anchor {
	position: absolute;
	top: 0;
	bottom: 0;
	left: 0;
	display: block;
	padding-right: 6px;
	padding-left: 30px;
	margin-left: -30px;
}

.markdown-body .anchor:focus {
	outline: none;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
	position: relative;
	margin-top: 1em;
	margin-bottom: 16px;
	font-weight: bold;
	line-height: 1.4;
}

.markdown-body h1 .octicon-link,
.markdown-body h2 .octicon-link,
.markdown-body h3 .octicon-link,
.markdown-body h4 .octicon-link,
.markdown-body h5 .octicon-link,
.markdown-body h6 .octicon-link {
	display: none;
	color: #000;
	vertical-align: middle;
}

.markdown-body h1:hover .anchor,
.markdown-body h2:hover .anchor,
.markdown-body h3:hover .anchor,
.markdown-body h4:hover .anchor,
.markdown-body h5:hover .anchor,
.markdown-body h6:hover .anchor {
	padding-left: 8px;
	margin-left: -30px;
	line-height: 1;
	text-decoration: none;
}

.markdown-body h1:hover .anchor .octicon-link,
.markdown-body h2:hover .anchor .octicon-link,
.markdown-body h3:hover .anchor .octicon-link,
.markdown-body h4:hover .anchor .octicon-link,
.markdown-body h5:hover .anchor .octicon-link,
.markdown-body h6:hover .anchor .octicon-link {
	display: inline-block;
}

.markdown-body h1 tt,
.markdown-body h1 code,
.markdown-body h2 tt,
.markdown-body h2 code,
.markdown-body h3 tt,
.markdown-body h3 code,
.markdown-body h4 tt,
.markdown-body h4 code,
.markdown-body h5 tt,
.markdown-body h5 code,
.markdown-body h6 tt,
.markdown-body h6 code {
	font-size: inherit;
}

.markdown-body h1 {
	padding-bottom: 0.3em;
	font-size: 2.25em;
	line-height: 1.2;
	border-bottom: 1px solid #eee;
}

.markdown-body h2 {
	padding-bottom: 0.3em;
	font-size: 1.75em;
	line-height: 1.225;
	border-bottom: 1px solid #eee;
}

.markdown-body h3 {
	font-size: 1.5em;
	line-height: 1.43;
}

.markdown-body h4 {
	font-size: 1.25em;
}

.markdown-body h5 {
	font-size: 1em;
}

.markdown-body h6 {
	font-size: 1em;
	color: #777;
}

.markdown-body p,.markdown-body blockquote,
.markdown-body ul,.markdown-body ol,
.markdown-body dl,.markdown-body table,
.markdown-body pre {
	margin-top: 0;
	margin-bottom: 16px;
}

.markdown-body hr {
	height: 4px;
	padding: 0;
	margin: 16px 0;
	background-color: #e7e7e7;
	border: 0 none;
}

.markdown-body ul,
.markdown-body ol {
	padding-left: 2em;
}

.markdown-body ul.no-list,
.markdown-body ol.no-list {
	padding: 0;
	list-style-type: none;
}

.markdown-body ul ul,
.markdown-body ul ol,
.markdown-body ol ol,
.markdown-body ol ul {
	margin-top: 0;
	margin-bottom: 0;
}

.markdown-body li>p {
	margin-top: 16px;
}

.markdown-body dl {
	padding: 0;
}

.markdown-body dl dt {
	padding: 0;
	margin-top: 16px;
	font-size: 1em;
	font-style: italic;
	font-weight: bold;
}

.markdown-body dl dd {
	padding: 0 16px;
	margin-bottom: 16px;
}

.markdown-body blockquote {
	padding: 0 15px;
	color: #777;
	border-left: 4px solid #ddd;
}

.markdown-body blockquote>:first-child {
	margin-top: 0;
}

.markdown-body blockquote>:last-child {
	margin-bottom: 0;
}

.markdown-body table {
	display: block;
	width: 100%;
	overflow: auto;
	word-break: normal;
	word-break: keep-all;
}

.markdown-body table th {
	font-weight: bold;
}

.markdown-body table th,
.markdown-body table td {
	padding: 6px 13px;
	border: 1px solid #ddd;
}

.markdown-body table tr {
	background-color: #fff;
	border-top: 1px solid #ccc;
}

.markdown-body table tr:nth-child(2n) {
	background-color: #f8f8f8;
}

.markdown-body img {
	max-width: 100%;
	-moz-box-sizing: border-box;
	box-sizing: border-box;
}

.markdown-body span.frame {
	display: block;
	overflow: hidden;
}

.markdown-body span.frame>span {
	display: block;
	float: left;
	width: auto;
	padding: 7px;
	margin: 13px 0 0;
	overflow: hidden;
	border: 1px solid #ddd;
}

.markdown-body span.frame span img {
	display: block;
	float: left;
}

.markdown-body span.frame span span {
	display: block;
	padding: 5px 0 0;
	clear: both;
	color: #333;
}

.markdown-body span.align-center {
	display: block;
	overflow: hidden;
	clear: both;
}

.markdown-body span.align-center>span {
	display: block;
	margin: 13px auto 0;
	overflow: hidden;
	text-align: center;
}

.markdown-body span.align-center span img {
	margin: 0 auto;
	text-align: center;
}

.markdown-body span.align-right {
	display: block;
	overflow: hidden;
	clear: both;
}

.markdown-body span.align-right>span {
	display: block;
	margin: 13px 0 0;
	overflow: hidden;
	text-align: right;
}

.markdown-body span.align-right span img {
	margin: 0;
	text-align: right;
}

.markdown-body span.float-left {
	display: block;
	float: left;
	margin-right: 13px;
	overflow: hidden;
}

.markdown-body span.float-left span {
	margin: 13px 0 0;
}

.markdown-body span.float-right {
	display: block;
	float: right;
	margin-left: 13px;
	overflow: hidden;
}

.markdown-body span.float-right>span {
	display: block;
	margin: 13px auto 0;
	overflow: hidden;
	text-align: right;
}

.markdown-body code,.markdown-body tt {
	padding: 0;
	padding-top: 0.2em;
	padding-bottom: 0.2em;
	margin: 0;
	font-size: 85%;
	background-color: rgba(0,0,0,0.04);
	border-radius: 3px;
}

.markdown-body code:before,
.markdown-body code:after,
.markdown-body tt:before,
.markdown-body tt:after {
	letter-spacing: -0.2em;
	content: "\00a0";
}

.markdown-body code br,
.markdown-body tt br {
	display: none;
}

.markdown-body del code {
	text-decoration: inherit;
}

.markdown-body pre>code {
	padding: 0;
	margin: 0;
	font-size: 100%;
	word-break: normal;
	white-space: pre;
	background: transparent;
	border: 0;
}

.markdown-body .highlight {
	margin-bottom: 16px;
}

.markdown-body .highlight pre,
.markdown-body pre {
	padding: 16px;
	overflow: auto;
	font-size: 85%;
	line-height: 1.45;
	background-color: #f7f7f7;
	border-radius: 3px;
}

.markdown-body .highlight pre {
	margin-bottom: 0;
	word-break: normal;
}

.markdown-body pre {
	word-wrap: normal;
}

.markdown-body pre code,
.markdown-body pre tt {
	display: inline;
	max-width: initial;
	padding: 0;
	margin: 0;
	overflow: initial;
	line-height: inherit;
	word-wrap: normal;
	background-color: transparent;
	border: 0;
}

.markdown-body pre code:before,
.markdown-body pre code:after,
.markdown-body pre tt:before,
.markdown-body pre tt:after {
	content: normal;
}

.highlight .pl-coc,
.highlight .pl-entl,
.highlight .pl-entm,
.highlight .pl-eoa,
.highlight .pl-mai .pl-sf,
.highlight .pl-mm,
.highlight .pl-pdv,
.highlight .pl-sc,
.highlight .pl-som,
.highlight .pl-sr,
.highlight .pl-v,
.highlight .pl-vpf {
	color: #0086b3;
}
.highlight .pl-eoac,
.highlight .pl-mdht,
.highlight .pl-mi1,
.highlight .pl-mri,
.highlight .pl-va,
.highlight .pl-vpu {
	color: #008080;
}
.highlight .pl-c,
.highlight .pl-pdc {
	color: #b4b7b4;
	font-style: italic;
}
.highlight .pl-k,
.highlight .pl-ko,
.highlight .pl-kolp,
.highlight .pl-mc,
.highlight .pl-mr,
.highlight .pl-ms,
.highlight .pl-s,
.highlight .pl-sok,
.highlight .pl-st {
	color: #6e5494;
}
.highlight .pl-ef,
.highlight .pl-enf,
.highlight .pl-enm,
.highlight .pl-entc,
.highlight .pl-eoi,
.highlight .pl-sf,
.highlight .pl-smc {
	color: #d12089;
}
.highlight .pl-ens,
.highlight .pl-eoai,
.highlight .pl-kos,
.highlight .pl-mh .pl-pdh,
.highlight .pl-mp,
.highlight .pl-pde,
.highlight .pl-stp {
	color: #458;
}
.highlight .pl-enti {
	color: #d12089;
	font-weight: bold;
}
.highlight .pl-cce,
.highlight .pl-enc,
.highlight .pl-kou,
.highlight .pl-mq {
	color: #f93;
}
.highlight .pl-mp1 .pl-sf {
	color: #458;
	font-weight: bold;
}
.highlight .pl-cos,
.highlight .pl-ent,
.highlight .pl-md,
.highlight .pl-mdhf,
.highlight .pl-ml,
.highlight .pl-pdc1,
.highlight .pl-pds,
.highlight .pl-s1,
.highlight .pl-scp,
.highlight .pl-sol {
	color: #df5000;
}
.highlight .pl-c1,
.highlight .pl-cn,
.highlight .pl-pse,
.highlight .pl-pse .pl-s2,
.highlight .pl-vi {
	color: #a31515;
}
.highlight .pl-mb,
.highlight .pl-pdb {
	color: #df5000;
	font-weight: bold;
}
.highlight .pl-mi,
.highlight .pl-pdi {
	color: #6e5494;
	font-style: italic;
}
.highlight .pl-ms1 {
	background-color: #f5f5f5;
}
.highlight .pl-mdh,
.highlight .pl-mdi {
	font-weight: bold;
}
.highlight .pl-mdr {
	color: #0086b3;
	font-weight: bold;
}
.highlight .pl-s2 {
	color: #333;
}
.highlight .pl-ii {
	background-color: #df5000;
	color: #fff;
}
.highlight .pl-ib {
	background-color: #f93;
}
.highlight .pl-id {
	background-color: #a31515;
	color: #fff;
}
.highlight .pl-iu {
	background-color: #b4b7b4;
}
.highlight .pl-mo {
	color: #969896;
}

</style>


<script type="text/javascript">

function getDocumentScrollTop() 
{
   var res = document.body.scrollTop || document.documentElement.scrollTop || window.pageYOffset || 0;
   // alert(res);
   return res;
}

function setDocumentScrollTop(ypos) 
{
	window.scrollTo(0, ypos);
}

</script>


</head>
<body class="markdown-body">
<h1> <a id="nasdanika-code-generation" class="anchor" href="#nasdanika-code-generation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Nasdanika Code Generation</h1> 
<p>Nasdanika Code Generation provides an Ecore model which encapsulates generation of Eclipse projects, folders, files, packages, compilation units, ... It also provides an editor for the model. Code can be generated from a model by using context menu item and then supplying input configuration either as a file or interactively through UI dialogs.</p> 
<h2> <a id="concepts" class="anchor" href="#concepts" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Concepts</h2> 
<p>The model contains generators and filters. Filter is a generator which contains another generator and performs some processing on the contained generator output to produce its own output. Please consult the <a href="http://www.nasdanika.org/products/codegen/apidocs/org.nasdanika.codegen/apidocs/">model API documentation</a> for the complete list of model elements.</p> 
<p>In the model generators are organized in a tree, e.g. workspace &quot;generator&quot; (it doesn't actually generate anything) may contain project generators, which in turn may contain file, folder, and nature generators.</p> 
<p>Java nature generator may contain package fragment roots generators, which contain package fragment generators, which in turn contain compilation unit generators.</p> 
<p>Maven nature may contain pom.xml generator.</p> 
<p><a href="http://www.nasdanika.org/products/codegen/apidocs/org.nasdanika.codegen/apidocs/org/nasdanika/codegen/Generator.html">Generator</a> extends <a href="http://www.nasdanika.org/products/config/apidocs/org.nasdanika.config/apidocs/org/nasdanika/config/Configuration.html?is-external=true">Configuration</a> and as such may contain configuration items - properties, services, and configuration categories.</p> 
<p>Generation works in the following way:</p> 
<ul> 
 <li>Generators create <a href="http://www.nasdanika.org/products/codegen/apidocs/org.nasdanika.codegen/apidocs/org/nasdanika/codegen/Work.html">Work</a>.</li> 
 <li>Work takes <a href="http://www.nasdanika.org/products/config/apidocs/org.nasdanika.config/apidocs/org/nasdanika/config/Context.html?is-external=true">Context</a> and progress monitor as its <code>execute()</code> method arguments.</li> 
 <li>Because Generator extends Configuration, it has createContext() method. When generator's work is executed it receives a context created by its generator with container generator context as its parent. The top level generator receives its context from the client code, e.g. from the model editor. What it means is that each child generator inherits properties and services from its parent generator.</li> 
</ul> 
<h3> <a id="name-interpolation" class="anchor" href="#name-interpolation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Name interpolation</h3> 
<p>Some generators, e.g. project generator, have name attribute. During generation the name attribute value gets interpolated to produce the name of the generated artifact, e.g. workspace project. Interpolation means expanding <code>{{&lt;property name&gt;[|&lt;default value&gt;]}}</code> tokens to the value of the property with the specified name from the generation context. Interpolation makes iteration (see below) possible.</p> 
<h3> <a id="reconcile-action-and-merging" class="anchor" href="#reconcile-action-and-merging" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Reconcile action and merging</h3> 
<p>Reconcile action attribute allows to specify what to do if an artifact about to be generated already exists. One of options is &quot;Merge&quot;. If &quot;Merge&quot; is selected the generator must contain <code>merger</code> services implementing <a href="http://www.nasdanika.org/products/codegen/apidocs/org.nasdanika.codegen/apidocs/org/nasdanika/codegen/Merger">Merger</a> interface, which would combine generated and existing artifact content.</p> 
<h3> <a id="controller" class="anchor" href="#controller" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Controller</h3> 
<p>All generators have <a href="http://www.nasdanika.org/products/codegen/apidocs/org.nasdanika.codegen/apidocs/org/nasdanika/codegen/Generator.html#getController--">Controller</a> attribute which may contain a name of Java class implementing <a href="http://www.nasdanika.org/products/codegen/apidocs/org.nasdanika.codegen/apidocs/org/nasdanika/codegen/GeneratorController">GeneratorController</a> interface for generators and <a href="http://www.nasdanika.org/products/codegen/apidocs/org.nasdanika.codegen/apidocs/org/nasdanika/codegen/GroupController">GroupController</a> interface for groups.</p> 
<p>Controllers allow to validate the generator configuration before execution, execute generator work zero or more times with different contexts, and configure results of execution.</p> 
<h3> <a id="modification-tracking" class="anchor" href="#modification-tracking" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Modification tracking</h3> 
<p>If resource generator context contains <a href="http://www.nasdanika.org/products/codegen/apidocs/org.nasdanika.codegen/apidocs/org/nasdanika/codegen/ResourceModificationTracker.html">ResourceModificationTracker</a> service, then this service is used for tracking resource modifications. Modification tracking allows generators to overwrite resources which haven't been modified since last generation and preserve them, confirm overwrite or merge otherwise.</p> 
<p>Resource modification tracker is added to the context of <a href="http://www.nasdanika.org/products/codegen/apidocs/org.nasdanika.codegen/apidocs/org/nasdanika/codegen/Project.html">Project</a> and inherited by its children. Resource modifications are stored in <code>.settings/org.nasdanika.codegen.resourceStamps.properties</code> file in the form of <code>&lt;file path&gt;=&lt;file SHA-256 digest&gt;</code>.</p> 
<h2> <a id="creating-a-model" class="anchor" href="#creating-a-model" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Creating a model</h2> 
<ul> 
 <li>Install Configuration editor from <code>http://www.nasdanika.org/products/codegen/repository</code>.</li> 
 <li>File &gt; New &gt; Other &gt; Nasdanika/Code Generation Model.</li> 
 <li>Select the root model element. If the model is going to be used to generate code from the editor, select &quot;Workspace&quot;.</li> 
 <li>Add child elements to the root and configure.</li> 
 <li>Right-click on the model root or other model element and select &quot;Validate&quot; context menu item to validate the model.</li> 
</ul> 
<h2> <a id="generating-code" class="anchor" href="#generating-code" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Generating code</h2> 
<h3> <a id="from-the-editor" class="anchor" href="#from-the-editor" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>From the editor</h3> 
<ul> 
 <li>Right-click on the model root or other model element and select &quot;Generate&quot;.</li> 
 <li>Enter values for unbound properties to a dialog when requested.</li> 
</ul> 
<p>If the project containing the generation model is a Java project, then Java classes defined in the project or referenced by the project are available in the generators context class loader.</p> 
<h3> <a id="programmatically" class="anchor" href="#programmatically" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Programmatically</h3> 
<p>See <a href="https://github.com/Nasdanika/codegen-ecore-web-ui/blob/master/org.nasdanika.codegen.ecore.web.ui/src/org/nasdanika/codegen/ecore/web/ui/WebUIGenerationTarget.java#L90">WebUIGenerationTarget.execute()</a> method:</p> 
<ul> 
 <li>Load the model.</li> 
 <li>Call <code>Generator.createWork()</code>.</li> 
 <li>Call <code>Work.execute()</code> providing context and monitor.</li> 
</ul> 
<h2> <a id="api-documentation" class="anchor" href="#api-documentation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>API Documentation</h2> 
<ul> 
 <li><a href="http://www.nasdanika.org/products/codegen/apidocs/org.nasdanika.codegen/apidocs/">Model</a></li> 
 <li><a href="http://www.nasdanika.org/products/codegen/apidocs/org.nasdanika.codegen.edit/apidocs/">Edit</a></li> 
 <li><a href="http://www.nasdanika.org/products/codegen/apidocs/org.nasdanika.codegen.editor/apidocs/">Editor</a></li> 
</ul> 
<h2> <a id="example" class="anchor" href="#example" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Example</h2> 
<p><a href="https://github.com/Nasdanika/codegen-ecore-web-ui">Codegen Ecore Web UI Generation Target</a> - This project contains a model which generates routes, renderers and resource sets for <a href="https://github.com/Nasdanika/server/blob/master/org.nasdanika.cdo.web/doc/application-rendering.md">Nasdanika Application Rendering Framework</a> from an Ecore model.</p> 
<p>Below is a screenshot of the generator model:</p> 
<p><a href="web-ui-generation-target-codegen-model.png" target="_blank"><img src="web-ui-generation-target-codegen-model.png" alt="web-ui-generation-target-codegen-model.png" style="max-width:100%;" /></a></p>
</body>
</html>
